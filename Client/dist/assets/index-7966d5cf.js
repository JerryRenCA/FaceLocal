import{j as e,c as a,d as Ie,B as y,F as Ae,f as Me,g as ye,h as Ue,A as we,i as _e,I as z,k as Re,T as I,l as Oe,m as Se,n as Z,o as Be,p as We,q as G,r as Ve,M as je,t as h,u as A,v as P,w as qe,x as Ce,y as He,z as Je,D as Ke,E as R,G as Ye,H as Ze,J as Xe,K as Ge,L as Qe,N as O,O as he,P as De,Q as et,R as tt,U as rt,s as at,V as it,W as lt,X as nt,Y as st,Z as ot,_ as me,$ as T,a0 as dt,a1 as ct,a2 as ut,a3 as ht,C as mt,a4 as pt,a5 as ft,a6 as gt,a7 as vt,a8 as xt,a9 as bt,aa as Q}from"./@mui-f7a756da.js";import{u as Ne,S as yt}from"./notistack-69dda909.js";import{r as c,a as S}from"./react-728330cd.js";import{c as wt}from"./react-dom-1caf2c99.js";import{L as C,B as St}from"./react-router-dom-ddb5f63e.js";import{F as d}from"./tailwind-styled-components-0ba88b5d.js";import{i as Ct,g as Nt,a as Et,b as Pt,o as kt,A as D,K as Lt,u as zt,s as Ft,O as Tt,c as $t,d as pe,U as It,E as At,e as Mt,f as Ut,h as _t,j as Rt}from"./@firebase-e209bb97.js";import"./firebase-7bc2fc54.js";import{l as fe}from"./leaflet-08cdb987.js";import{M as Ee,T as Pe,u as Ot,a as ee,P as te}from"./react-leaflet-09ee73f6.js";import{P as Bt,b as Wt,a as Vt}from"./material-ui-popup-state-8eea7553.js";import{n as jt}from"./@emotion-fe3977d9.js";import{g as ge,a as g,f as E,b as qt,d as Ht}from"./date-fns-943e1535.js";import{v as j}from"./validator-baf863ef.js";import{a as re,d as Jt,e as w}from"./react-router-a89ba10b.js";import"./react-is-1aacdabe.js";import"./@babel-8760ff86.js";import"./react-transition-group-d522d3d2.js";import"./clsx-1229b3e0.js";import"./@popperjs-0e7ee0a2.js";import"./hoist-non-react-statics-691fe6cb.js";import"./scheduler-04ce0582.js";import"./@remix-run-cb584dee.js";import"./tailwind-merge-5722ff6e.js";import"./tslib-4b8363ab.js";import"./idb-f62f60ab.js";import"./@react-leaflet-ff7df424.js";import"./prop-types-4d501b15.js";import"./stylis-581c9ed0.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function i(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=i(l);fetch(l.href,o)}})();const Kt=d.div` min-h-[20rem] flex justify-center items-center bg-gray-500 text-white`,Yt=d.div`grid grid-cols-4 w-[60rem] `,M=d.div``,U=d.div` uppercase py-4 text-lg`,v=d.div`py-1`,Zt=()=>e(Kt,{children:a(Yt,{children:[a(M,{children:[e(U,{children:"StoreForm"}),e(v,{children:"About"}),e(v,{children:"Join Us"}),e(v,{children:"Membership"}),e(v,{children:"Advertise"})]}),a(M,{children:[e(U,{children:"StoreForm"}),e(v,{children:"About"}),e(v,{children:"Join Us"}),e(v,{children:"Membership"}),e(v,{children:"Advertise"})]}),a(M,{children:[e(U,{children:"StoreForm"}),e(v,{children:"About"}),e(v,{children:"Join Us"}),e(v,{children:"Membership"}),e(v,{children:"Advertise"})]}),a(M,{children:[e(U,{children:"Thanks"}),e(v,{children:e("a",{href:"https://icons8.com/",children:"ICONS8"})}),e(v,{children:"Join Us"}),e(v,{children:"Membership"}),e(v,{children:"Advertise"})]})]})}),Xt={apiKey:"AIzaSyBuXVcV4H1TkoEO9YxHoXLw0f19n3-n-Z0",authDomain:"face-local-web-front-end.firebaseapp.com",projectId:"face-local-web-front-end",storageBucket:"face-local-web-front-end.appspot.com",messagingSenderId:"959087378986",appId:"1:959087378986:web:0ccff23d77d554b3d4f953",measurementId:"G-YKCRBQQJKL"},ae=Ct(Xt);Nt(ae);const F=Et(),Gt=Pt(ae),ie=kt(ae),le="users",W={name:"",createdAt:null,profileIcon:"",location:""},ke=async(t,r,i)=>{const s=D(ie,le,t),l=r,o={};o[l]=i,await Lt(s,o)},Qt=async t=>{if(F.currentUser)try{return await zt(F.currentUser,t),!0}catch{return!1}},Dt=async t=>{try{const r=await Ft(F,t.email,t.password),i=D(ie,le,r.user.uid),l=(await Tt(i)).data();return{userCredential:r,userCollection:l}}catch{return{userCollection:W,userCredential:null}}},er=async t=>{try{const r=await $t(F,t.email,t.password),i=pe(),s={...W,name:t.name,createdAt:pe()};return await It(D(ie,le,r.user.uid),s),{userCredential:r,userCollection:s}}catch{return{userCollection:W,userCredential:null}}},tr=async t=>{var r;if((r=F.currentUser)!=null&&r.email){const i=At.credential(F.currentUser.email,t.oldPassword),s=await Mt(F.currentUser,i);return console.log(s),s.user.uid!=""}return!1},Le="userAuthInfo",ne={userCredential:null,userCollection:W},q=()=>{const t=localStorage.getItem(Le),r=JSON.parse(t);return r&&r.userCredential?{user:r,isLogin:r.uid!==""}:{user:ne,isLogin:!1}},rr=(t,r)=>{switch(r.authActionType){case 0:{if(r.payload)return{user:{...r.payload},isLogin:!0};throw new Error("No user info in payload")}case 2:{if(r.payload)return{user:{...r.payload},isLogin:!0};throw new Error("No user info in payload")}default:return{user:{...ne},isLogin:!1}}},ar=t=>{const[r,i]=c.useReducer(rr,t);return{state:r,dispatch:i,login:n=>i({authActionType:0,payload:n}),logout:()=>i({authActionType:1,payload:ne}),update:n=>i({authActionType:2,payload:n})}},ir={state:q(),dispatch:()=>{},login:()=>{},logout:()=>{},update:()=>{}},k=c.createContext(ir),lr=({children:t})=>e(k.Provider,{value:ar(q()),children:t}),nr=d.div` border-2 grow rounded-md pl-1 flex overflow-hidden  bg-white text-black`,sr=d.div` `,or=()=>a(nr,{children:[e(Ie,{className:"my-auto "}),e("input",{type:"text",className:"grow outline-none px-3"}),e(sr,{children:e(y,{variant:"contained",children:"Search"})})]});d.div`w-[80vw] h-[80vh]`;const X={lat:44.65107,lng:-63.582687},dr=({flyto:t,handleFlytoEnd:r,setFlyto:i})=>a(Ee,{style:{height:"80vh"},center:[44.65107,-63.582687],zoom:13,scrollWheelZoom:!1,children:[e(Pe,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e(cr,{flyto:t,handleFlytoEnd:r,setFlyto:i}),e(ur,{})]});function cr({flyto:t,handleFlytoEnd:r,setFlyto:i}){const[s,l]=c.useState(new fe.LatLng(X.lat,X.lng)),[o,n]=c.useState(!1),u=Ot({locationfound(f){l(f.latlng),u.flyTo(f.latlng,u.getZoom()),r(),n(!0)}});t&&u.locate();var p=new fe.Icon({iconUrl:"/vite.svg",iconSize:[20,20],iconAnchor:[10,20],popupAnchor:[0,-20]});return s===null?null:e(ee,{position:s,icon:p,draggable:!o,children:e(te,{children:a("div",{className:"flex flex-col items-center",children:[a("div",{className:" text-base pb-2",children:["Your location. ",a("span",{children:[!o&&"Not"," Auto-located!"]})]}),e(y,{fullWidth:!0,variant:"text",onClick:()=>{i(!0)},children:"Location"})]})})})}function ur(){const[t,r]=c.useState(!1),[i,s]=c.useState(X),l=c.useRef(null),o=c.useMemo(()=>({dragend(){const u=l.current;u&&s(u.getLatLng())}}),[]),n=c.useCallback(()=>{r(u=>!u)},[]);return e(ee,{draggable:t,eventHandlers:o,position:i,ref:l,children:e(te,{minWidth:90,children:a("span",{className:"flex flex-col justify-center items-center",children:[e("span",{className:"text-lg pb-1 border-b-[2px] self-stretch text-center font-mono",children:"Location"}),e(Ae,{control:e(Me,{draggable:!0,onClick:n,sx:{fontSize:"small"}}),label:"Movable"})]})})})}const hr=[{title:"First"},{title:"Second"}],mr=d.div`flex flex-col`;function pr(){const[t,r]=c.useState(!1),[i,s]=c.useState(!1),[l,o]=c.useState("Halifax"),n=()=>{r(!1)},u=()=>{r(!t)},p=m=>{s(m)},f=()=>s(!1);return a("div",{children:[e(y,{variant:"outlined",startIcon:e(ye,{}),onClick:u,children:l}),e(Ue,{sx:{color:"#fff",zIndex:m=>m.zIndex.drawer+1},open:t,children:a(mr,{children:[e("div",{className:"bg-white text-black rounded-tl-md rounded-tr-md ",children:e(we,{options:hr.map(m=>m.title),freeSolo:!0,id:"clear-on-escape",clearOnEscape:!0,renderInput:m=>a(_e,{direction:"row",spacing:0,children:[e(z,{color:"primary","aria-label":"Search...",children:e(Re,{})}),e(I,{...m,label:"Search ...",variant:"standard"})]}),sx:{paddingX:2,paddingTop:1}})}),a("div",{className:"w-[80vw] h-[80vh] relative",children:[e("div",{className:"absolute right-[1rem] z-[1000] top-4 bg-slate-50  border-black rounded-md",children:e(fr,{handleClose:n,handleFlyto:p})}),e(dr,{flyto:i,handleFlytoEnd:f,setFlyto:s}),i&&e("div",{className:"absolute z-[1001] left-1/2 top-1/2",children:e(Oe,{sx:{display:"flex"},children:e(Se,{color:"secondary",size:"60px"})})})]})]})})]})}const fr=({handleClose:t,handleFlyto:r})=>e(Z,{orientation:"vertical","aria-label":"map buttons",variant:"outlined",sx:{width:"100%"},children:[e(y,{sx:{paddingY:1,width:10},onClick:()=>r(!0),children:e(Be,{fontSize:"small",color:"primary"})},"one"),e(y,{sx:{paddingY:1,width:10},onClick:t,children:e(We,{fontSize:"small",color:"primary"})},"two")]});d.div``;const gr=({profileIcon:t,name:r})=>e(Bt,{variant:"popover",popupId:"demo-popup-menu",children:i=>a(c.Fragment,{children:[e(y,{variant:"text",...Wt(i),children:e(G,{sx:{bgcolor:Ve[500],width:28,height:28},src:t,children:r})}),a(je,{...Vt(i),children:[a(h,{onClick:i.close,children:[e(C,{to:"/user/profile",children:"Profile"})," "]}),a(h,{onClick:i.close,children:[e(C,{to:"/user/password",children:"Change Password"})," "]}),e(h,{onClick:i.close,children:"Logout"})]})]})}),ve=d.div`flex justify-center border-b-[1px] border-gray-800 fixed w-screen bg-white z-[1002]`,vr=d.div`flex gap-4 justify-between  my-4  items-center`,xr=d.div`text-3xl font-satisfy font-extrabold text-blue-900 `,br=()=>a(A,{children:[e(ve,{children:a(vr,{children:[e(xr,{style:{textShadow:"#069 1px 0 10px"},children:e(C,{to:"/",children:"StoreForm - in CI/CD ing"})}),e(or,{}),e(pr,{}),e(yr,{})]})}),e(ve,{className:"relative h-[4.4rem] -z-10"})]}),yr=()=>{const t=c.useContext(k),r=()=>{t.logout()};return a("div",{children:[!t.state.isLogin&&e(A,{children:a(Z,{variant:"text","aria-label":"text button group",children:[e(y,{children:e(C,{to:"register",className:"  hover:text-purple-500 font-bold",children:"Register"})}),e(y,{children:e(C,{to:"login",className:"  hover:text-purple-500 font-bold",children:"Sign In"})})]})}),t.state.isLogin&&a(Z,{variant:"text","aria-label":"text button group",children:[e(gr,{profileIcon:t.state.user.userCollection.profileIcon,name:t.state.user.userCollection.name}),e(y,{children:e(C,{to:"/",className:"  hover:text-purple-500 ",children:e(P,{title:"Home",arrow:!0,children:e(qe,{})})})}),e(y,{children:e(C,{to:"/event/post",className:"  hover:text-purple-500 ",children:e(P,{title:"Post",arrow:!0,children:e(Ce,{})})})}),e(y,{onClick:r,className:"  hover:text-purple-500 ",children:e(P,{title:"Logout",arrow:!0,children:e(He,{})})})]})]})},wr=d.div`bg-red-600 text-sm flex `,Sr=d.div`grow text-center`,Cr=d.button` mr-4 hover:text-white`,Nr=()=>{const[t,r]=c.useState(!1);return e(wr,{children:t&&a(A,{children:[e(Sr,{children:"Notification infomation"}),e(Cr,{onClick:i=>r(!1),children:"X"})]})})},Er=d.div``,Pr=()=>e(Er,{children:"ListEvent"}),kr=d.div`flex flex-col`,Lr=d.div`flex justify-center`,L=jt(({className:t,...r})=>e(P,{...r,classes:{popper:t}}))(({theme:t})=>({[`& .${Je.tooltip}`]:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:16,border:"1px solid #dadde9"}})),b=(t,r=!0)=>{let i=E(t,"yyyy / MM / dd");const s=qt(new Date,-1),l=Ht(t,s);switch(l){case 0:i="Today";break;case 1:i="Tomorrow";break;default:r&&(i=`${l} days later`);break}return i},xe=({title:t="Start Time",startDate:r=new Date})=>{const i={day:0,time:ge(r)%12*2,ampm:ge(r)>12?1:0},[s,l]=S.useState(i),o=(n,u)=>{u==0&&l({...s,day:Number.parseInt(n.target.value)}),u==1&&l({...s,time:Number.parseInt(n.target.value)}),u==2&&l({...s,ampm:Number.parseInt(n.target.value)})};return a(kr,{children:[a("div",{children:[e(Ke,{sx:{color:"action.active",mr:1,mb:.5}}),e("span",{className:" text-gray-600",children:t})]}),a(Lr,{children:[a(R,{variant:"standard",sx:{m:1,minWidth:120,fontSize:15,height:25},id:"demo-simple-select-standard",value:s.day.toString(),onChange:n=>o(n,0),label:"Date",className:"text-center",children:[e(h,{value:0,sx:{fontSize:15},children:e(L,{placement:"right",title:a(S.Fragment,{children:[e("div",{className:"text-gray-400",children:b(g(r,0))}),e("em",{className:"text-gray-600",children:E(g(r,0),"yyyy-MM-dd EEEE")})]}),children:e("button",{children:b(g(r,0))})})}),e(h,{value:1,sx:{fontSize:15},children:e(L,{placement:"right",title:a(S.Fragment,{children:[e("div",{className:"text-gray-400",children:b(g(r,1))}),e("em",{className:"text-gray-600",children:E(g(r,1),"yyyy-MM-dd EEEE")})]}),children:e("button",{children:b(g(r,1))})})}),e(h,{value:2,sx:{fontSize:15},children:e(L,{placement:"right",title:a(S.Fragment,{children:[e("div",{className:"text-gray-400",children:b(g(r,2))}),e("em",{className:"text-gray-600",children:E(g(r,2),"yyyy-MM-dd EEEE")})]}),children:e("button",{children:b(g(r,2),!1)})})}),e(h,{value:3,sx:{fontSize:15},children:e(L,{placement:"right",title:a(S.Fragment,{children:[e("div",{className:"text-gray-400",children:b(g(r,3))}),e("em",{className:"text-gray-600",children:E(g(r,3),"yyyy-MM-dd EEEE")})]}),children:e("button",{children:b(g(r,3),!1)})})}),e(h,{value:4,sx:{fontSize:15},children:e(L,{placement:"right",title:a(S.Fragment,{children:[e("div",{className:"text-gray-400",children:b(g(r,4))}),e("em",{className:"text-gray-600",children:E(g(r,4),"yyyy-MM-dd EEEE")})]}),children:e("button",{children:b(g(r,4),!1)})})}),e(h,{value:5,sx:{fontSize:15},children:e(L,{placement:"right",title:a(S.Fragment,{children:[e("div",{className:"text-gray-400",children:b(g(r,5))}),e("em",{className:"text-gray-600",children:E(g(r,5),"yyyy-MM-dd EEEE")})]}),children:e("button",{children:b(g(r,5),!1)})})}),e(h,{value:6,sx:{fontSize:15},children:e(L,{placement:"right",title:a("div",{children:[e("div",{className:"text-gray-400",children:b(g(r,6))}),e("em",{className:"text-gray-600",children:E(g(r,6),"yyyy-MM-dd EEEE")})]}),children:e("button",{children:b(g(r,6),!1)})})})]}),a(R,{variant:"standard",sx:{m:1,minWidth:65,fontSize:15,height:25},labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",value:s.time.toString(),onChange:n=>o(n,1),label:"Date",className:"text-center",children:[e(h,{value:0,sx:{fontSize:15},children:"0:00"}),e(h,{value:1,sx:{fontSize:15},children:"0:30"}),e(h,{value:2,sx:{fontSize:15},children:"1:00"}),e(h,{value:3,sx:{fontSize:15},children:"1:30"}),e(h,{value:4,sx:{fontSize:15},children:"2:00"}),e(h,{value:5,sx:{fontSize:15},children:"2:30"}),e(h,{value:6,sx:{fontSize:15},children:"3:00"}),e(h,{value:7,sx:{fontSize:15},children:"3:30"}),e(h,{value:8,sx:{fontSize:15},children:"4:00"}),e(h,{value:9,sx:{fontSize:15},children:"4:30"}),e(h,{value:10,sx:{fontSize:15},children:"5:00"}),e(h,{value:11,sx:{fontSize:15},children:"5:30"}),e(h,{value:12,sx:{fontSize:15},children:"6:00"}),e(h,{value:13,sx:{fontSize:15},children:"6:30"}),e(h,{value:14,sx:{fontSize:15},children:"7:00"}),e(h,{value:15,sx:{fontSize:15},children:"7:30"}),e(h,{value:16,sx:{fontSize:15},children:"8:00"}),e(h,{value:17,sx:{fontSize:15},children:"8:30"}),e(h,{value:18,sx:{fontSize:15},children:"9:00"}),e(h,{value:19,sx:{fontSize:15},children:"9:30"}),e(h,{value:20,sx:{fontSize:15},children:"10:00"}),e(h,{value:21,sx:{fontSize:15},children:"10:30"}),e(h,{value:22,sx:{fontSize:15},children:"11:00"}),e(h,{value:23,sx:{fontSize:15},children:"11:30"})]}),a(R,{variant:"standard",sx:{m:1,minWidth:50,fontSize:15,height:25},labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",value:s.ampm.toString(),onChange:n=>o(n,2),label:"Date",className:"text-center",children:[e(h,{value:0,sx:{fontSize:15},children:"AM"}),e(h,{value:1,sx:{fontSize:15},children:"PM"})]})]})]})},zr=e(Ze,{fontSize:"small"}),Fr=e(Xe,{fontSize:"small"});function Tr(){return e(we,{multiple:!0,id:"checkboxes-tags",options:$r,disableCloseOnSelect:!0,getOptionLabel:t=>t.title,renderOption:(t,r,{selected:i})=>a("li",{...t,children:[e(Ye,{icon:zr,checkedIcon:Fr,style:{marginRight:8},checked:i}),r.title]}),style:{width:500},renderInput:t=>e(I,{...t,label:"Description tags",placeholder:""})})}const $r=[{title:"tag1",year:1994},{title:"tag2",year:1972},{title:"tag3",year:1974},{title:"aTag1",year:2008},{title:"aTag2",year:2008},{title:"aTag3",year:2008}],Ir=d.div`w-full`,Ar=({title:t,subTitles:r})=>{const[i,s]=c.useState(0);return e(Ir,{children:a(Ge,{fullWidth:!0,variant:"standard",sx:{m:1,minWidth:120,paddingRight:1},children:[e(Qe,{id:"demo-simple-select-standard-label",children:t}),e(R,{fullWidth:!0,labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",value:i,onChange:o=>{s(Number.parseInt(o.target.value))},label:"Age",sx:{textAlign:"center"},children:r.map((o,n)=>e(h,{value:n,sx:{fontSize:15},children:o},n))})]})})},Mr=d.div`mt-[-8px]`,Ur=()=>a(Mr,{children:[a(O,{sx:{display:"flex",alignItems:"flex-end"},children:[e(P,{title:"Address of the event.",arrow:!0,children:e(ye,{sx:{color:"action.active",fontSize:40,pb:1}})}),e(Ar,{title:"Location",subTitles:["opt0","opt1","opt2"]})]}),e("div",{className:" mt-[-8px]",children:a(Ee,{style:{height:"20rem",width:""},center:[44.65107,-63.582687],zoom:13,scrollWheelZoom:!1,children:[e(Pe,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e(ee,{position:[44.65107,-63.582687],draggable:!0,autoPanOnFocus:!0,children:a(te,{children:["Halifax. ",e("br",{})," A beautiful city."]})})]})})]}),_r=d.div`flex justify-center items-center`,Rr=d.form`w-[35rem] border-2 my-8 min-h-[30rem] rounded-lg`,Or=d.div`m-4 text-center text-3xl font-playfair `,N=d.div`m-4`,Br=[{img:"https://images.unsplash.com/photo-1551963831-b3b1ca40c98e",title:"Breakfast"},{img:"https://images.unsplash.com/photo-1551782450-a2132b4ba21d",title:"Burger"}],Wr=()=>e(_r,{children:a(Rr,{children:[e(Or,{children:"New"}),e(N,{children:a(O,{sx:{display:"flex",alignItems:"flex-end"},children:[e(he,{sx:{color:"action.active",mr:1,mb:3.3}}),e(I,{fullWidth:!0,id:"input-with-sx",label:"Title*",variant:"standard",helperText:"Title of your post. Length: 6 - 30 characters."})]})}),e(N,{children:a(O,{sx:{display:"flex",alignItems:"flex-end"},children:[e(he,{sx:{color:"action.active",mr:1,mb:3.3}}),e(I,{fullWidth:!0,id:"input-with-sx",label:"Subtitle (optional)",variant:"standard",helperText:"More information about this post. Length: 0 - 50 characters."})]})}),a(N,{children:[a(O,{sx:{display:"flex",alignItems:"flex-end"},children:[e(De,{sx:{color:"action.active",mr:1,mb:4.3}}),e(Tr,{})]}),e("label",{className:"text-xs text-gray-500 pl-8",children:"Tags for this event. 1 tag at least."})]}),e(N,{children:e("div",{children:e(xe,{title:"Start Time"})})}),e(N,{children:e("div",{className:" ",children:e(xe,{title:"End Time"})})}),e(N,{children:e(Ur,{})}),a(N,{className:"flex  flex-col justify-center items-center",children:[a(z,{color:"primary","aria-label":"upload picture",component:"label",children:[e("input",{hidden:!0,accept:"image/*",type:"file"}),e(P,{title:"Upload 1 or 2 pictures about this event.",arrow:!0,children:e(et,{})})]}),e("div",{className:" w-full",children:e(tt,{cols:2,children:Br.map(t=>e(rt,{children:e("img",{src:`${t.img}?w=164&h=164&fit=crop&auto=format`,srcSet:`${t.img}?w=164&h=164&fit=crop&auto=format&dpr=2 2x`,alt:t.title,loading:"lazy"})},t.img))})})]}),e(N,{children:e(y,{fullWidth:!0,variant:"contained",endIcon:e(Ce,{}),children:"Submit"})})]})}),Vr=d.div`h-[20rem] bg-black bg-bg-puppy-2 bg-cover bg-no-repeat bg-center bg-blend-difference`,jr=()=>e(Vr,{}),qr=d.div``,Hr=()=>e(qr,{children:["Products","Event","Products","Event"].map((r,i)=>e(Jr,{title:r},i))}),Jr=({title:t})=>e("div",{children:t}),Kr=at(t=>{const{expand:r,...i}=t;return e(z,{...i})})(({theme:t,expand:r})=>({transform:r?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}));function $(){const[t,r]=c.useState(!1),i=()=>{r(!t)};return a(it,{sx:{maxWidth:445},children:[e(lt,{avatar:e(G,{sx:{bgcolor:nt[500]},"aria-label":"recipe",children:"R"}),action:e(z,{"aria-label":"settings",children:e(st,{})}),title:"Best icecream with berries",subheader:"Feb 9, 2023"}),e(ot,{component:"img",height:"194",image:"/images/dish-1.jpg",alt:"Paella dish"}),e(me,{children:e(T,{variant:"body2",color:"text.secondary",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolor ipsam ipsum quasi ad adipisci minus cum, enim, doloremque aliquid possimus modi ea eum optio perferendis repellendus alias quod nulla pariatur!"})}),a(dt,{disableSpacing:!0,children:[e(z,{"aria-label":"add to favorites",children:e(ct,{})}),e(z,{"aria-label":"share",children:e(ut,{})}),e(Kr,{expand:t,onClick:i,"aria-expanded":t,"aria-label":"show more",children:e(ht,{})})]}),e(mt,{in:t,timeout:"auto",unmountOnExit:!0,children:a(me,{children:[e(T,{paragraph:!0,children:"Lorem:"}),e(T,{paragraph:!0,children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Id atque minima voluptatibus voluptates, voluptatum quidem?"}),e(T,{paragraph:!0,children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Veniam sunt sequi rem itaque quis explicabo quasi illo doloremque suscipit, pariatur, saepe odit aliquam sint laboriosam minima distinctio non, nam mollitia!"}),e(T,{paragraph:!0,children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Labore similique illo quasi voluptas ex recusandae id, ad fugiat laborum quo!"}),e(T,{children:"Lorem ipsum dolor sit amet."})]})})]})}const Yr=d.div`grid grid-cols-2 gap-4 my-8`;d.div``;const Zr=()=>a(Yr,{className:"",children:[e($,{}),e($,{}),e($,{}),e($,{}),e($,{}),e($,{})]}),Xr=d.div``,Gr=()=>e(Xr,{children:"RightSidePanel"}),Qr=d.div`h-16 m-auto`,_=d.button`w-[10rem] hover:text-red-500`,Dr=()=>e(Qr,{className:" align-middle font-satisfy text-2xl font-bold border-y-[1px] border-gray-800 ",children:a("div",{className:"flex justify-center h-full",children:[e(_,{children:"hot"}),e(_,{children:"happening"}),e(_,{children:"incoming"}),e(_,{children:"alert"})]})}),ea=d.div``,ta=d.div`grid grid-cols-10 w-4/5`,ra=()=>a(ea,{children:[e(jr,{}),e(Dr,{}),e("div",{className:"flex justify-center",children:a(ta,{children:[e(Hr,{}),e("div",{className:" col-span-8",children:e(Zr,{})}),e(Gr,{})]})})]}),aa=d.div``,ia=d.div`flex items-center`,Y=({title:t,value:r,uid:i,readonly:s,colName:l,collectionName:o})=>{const[n,u]=c.useState("");S.useState(!1);const{enqueueSnackbar:p}=Ne(),f=c.useRef(null),m=()=>{f.current&&u(f.current.value)},x=c.useContext(k);return e(aa,{children:a(ia,{children:[e("div",{className:"grow",children:e(I,{inputRef:f,fullWidth:!0,id:"standard-basic",label:t,variant:"standard",disabled:s,defaultValue:r,onChange:m})}),e("div",{className:" self-end",children:e(P,{title:s?"":"Update",sx:{opacity:s?0:100,cursor:s?"default":"pointer"},children:e(A,{children:e(y,{size:"small",onClick:()=>{ke(i,l,n);const J=l,K=q().user,ue=K.userCollection;ue[J]=n;const $e={...K,userCollection:{...ue}};K&&x.update($e),p("Update successfully!",{variant:"success"})},sx:{opacity:s?0:100,cursor:s?"default":"pointer"},children:e(pt,{})})})})})]})})},la=(t,r,i)=>{const s=Ut(Gt,"images/rivers.jpg"),l=_t(s,t);l.on("state_changed",o=>{const n=o.bytesTransferred/o.totalBytes*100;i(n)},o=>{},()=>{Rt(l.snapshot.ref).then(o=>{r(o)})})},na=d.div`flex justify-center items-center`,sa=d.div`border-2 my-12 w-[30rem] rounded-lg p-8 grid grid-cols-1 gap-3`,oa=d.div`text-3xl py-4`,da=()=>{var f;const[t,r]=c.useState(),[i,s]=c.useState(0),[l,o]=c.useState(""),n=m=>{m.target.files&&r(m.target.files[0])};c.useEffect(()=>{t&&la(t,o,s)},[t]);const u=c.useContext(k),p=(f=u.state.user.userCredential)==null?void 0:f.user.uid;return c.useEffect(()=>{if(l){const m="profileIcon",x=q().user,H=x.userCollection;H[m]=l;const J={...x,userCollection:{...H}};x&&u.update(J),ke(p,"profileIcon",l)}},[l]),e(na,{children:a(sa,{children:[a("div",{className:"flex justify-center items-center",children:[e(oa,{children:"Profile"}),a(z,{color:"primary","aria-label":"upload avatar",component:"label",children:[e("input",{hidden:!0,accept:"image/*",type:"file",onChange:n}),e(P,{title:"Upload profile photo",children:a("div",{className:"relative",children:[e(G,{sx:{bgcolor:ft[500],margin:1},alt:"Avatar",src:u.state.user.userCollection.profileIcon}),i!=0&&i!=100&&e("div",{className:"absolute top-2 left-2",children:e(Se,{color:"info",variant:"determinate",value:i})})]})})]})]}),e(Y,{title:"Name",value:u.state.user.userCollection.name,colName:"name",uid:p}),e(Y,{title:"Email",readonly:!0,value:u.state.user.userCredential?u.state.user.userCredential.user.email:"",colName:"email",uid:p}),e(Y,{title:"Location",value:u.state.user.userCollection.location,colName:"location",uid:p})]})})},be=({passwordVal:t})=>{const r=[" At least 8 characters"," 1 uppercase"," 1 lowercase"," 1 symbol"," 1 number"],i=/^[A-Z]$/,s=/^[a-z]$/,l=/^[-#!$@£%^&*()_+|~=`{}\[\]:";'<>?,.\/ ]$/,o=/^[0-9]$/,n=[!1,!1,!1,!1];Array.from(t).forEach(p=>{n[0]||(n[0]=i.test(p)),n[1]||(n[1]=s.test(p)),n[2]||(n[2]=l.test(p)),n[3]||(n[3]=o.test(p))});const u=[j.isLength(t,{min:8}),...n];return e("div",{children:r.map((p,f)=>{const m=u[f]?" text-green-600":"text-red-600",x=u[f]?"✓":"✘";return a("div",{children:[a("div",{className:m,children:[x," ",p]})," "]},f)})})},ca=({passwordVal:t,rePasswordVal:r})=>{const i=["- Passwords do NOT match"],s=[t===r];return e("div",{children:i.map((l,o)=>{const n=s[o]?" text-green-600":"text-red-600",u=s[o]?"✓":"✘";return a("div",{children:[a("div",{className:n,children:[u," ",l]})," "]},o)})})},ua=t=>j.isLength(t,{max:20,min:6}),ha=t=>j.isEmail(t),ze=t=>j.isStrongPassword(t),Fe=(t,r)=>t===r,ma=d.div`border-[1px] h-14 rounded-lg flex items-center justify-between p-1`,pa=d.input`grow outline-none`,se=({fieldContent:t,userInfo:r,setUserInfo:i})=>{const[s,l]=c.useState(!1),o=m=>{i(x=>t.updateField(x,m.target.value))},n=c.useRef(null),u=c.useRef(null);c.useEffect(()=>{const m=t.fieldname;n.current&&(n.current.style.position=r[m]||t.readonly?"relative":"absolute",n.current.style.fontSize=r[m]||t.readonly?"0.75rem":"1rem",n.current.style.color=r[m]||t.readonly?"gray":"black"),t.fieldname!="rePassword"?l(r[m]!=""&&!t.validateField(r[m])):l(r[m]!=""&&r.password!==r.rePassword),u.current&&t.valSet&&(u.current.value=t.valSet)},[r]);const[p,f]=c.useState(!1);return a("div",{className:"my-4 ",children:[a(ma,{children:[e(t.icon,{className:"align-middle px-1 text-gray-500",fontSize:"large"}),e("div",{className:"block grow pl-2",children:a("div",{className:"flex flex-col","aria-required":!0,children:[e("label",{className:"text-base duration-200 capitalize relative 0.75rem text-gray-600",htmlFor:t.fieldname,ref:n,children:t.fieldTitle}),e(pa,{ref:u,type:!p&&t.fieldVisibleSettable?"password":"text",required:!0,id:t.fieldname,onChange:o})]})}),t.fieldVisibleSettable&&e("div",{className:"mr-2 cursor-pointer text-gray-400",onClick:m=>f(x=>!x),children:p?e(gt,{}):e(vt,{})})]}),a(A,{children:[e("div",{className:"text-sm pl-4 pt-1  ",children:t.fieldInfo}),s&&a("div",{className:"text-sm pl-4 pt-1 text-red-600",children:[t.fieldname==="password"&&e(be,{passwordVal:r[t.fieldname]}),t.fieldname==="oldPassword"&&e(be,{passwordVal:r[t.fieldname]}),t.fieldname==="rePassword"&&e(ca,{passwordVal:r.password,rePasswordVal:r.rePassword}),t.fieldname!=="password"&&t.fieldname!=="rePassword"&&t.fieldname!=="oldPassword"&&t.fieldErr.map((m,x)=>e("div",{children:m},x))]})]})]})},oe={name:"",email:"",password:"",oldPassword:"",rePassword:""},fa={fieldname:"name",fieldTitle:"name",readonly:!1,valSet:"",fieldInfo:"- Name will be displayed on your profile.",fieldErr:["- Name length between 6 to 20."],fieldVisibleSettable:!1,icon:xt,updateField:(t,r)=>({...t,name:r}),validateField:ua},de={fieldname:"email",fieldTitle:"email",readonly:!1,valSet:"",fieldInfo:"- Email will be used for login.",fieldErr:["- Email address is invalid."],fieldVisibleSettable:!1,icon:bt,updateField:(t,r)=>({...t,email:r}),validateField:ha},ce={fieldname:"password",fieldTitle:"password",readonly:!1,valSet:"",fieldInfo:"",fieldErr:[],fieldVisibleSettable:!0,icon:Q,updateField:(t,r)=>({...t,password:r}),validateField:ze},ga={fieldname:"oldPassword",fieldTitle:"Old Password",readonly:!1,valSet:"",fieldInfo:"",fieldErr:[],fieldVisibleSettable:!0,icon:Q,updateField:(t,r)=>({...t,oldPassword:r}),validateField:ze},Te={fieldname:"rePassword",fieldTitle:"Comfirm Password",readonly:!1,valSet:"",fieldInfo:"",fieldErr:[],fieldVisibleSettable:!0,icon:Q,updateField:(t,r)=>({...t,rePassword:r}),validateField:()=>!0},B=[fa,de,ce,Te],va=t=>!(!B[0].validateField(t.name)||!B[1].validateField(t.email)||!B[2].validateField(t.password)||!Fe(t.password,t.rePassword)),xa=[de,ce],V=[{...de,readonly:!0,fieldInfo:""},ga,{...ce,fieldTitle:"New Password"},Te],ba=t=>!(!V[1].validateField(t.oldPassword)||!V[2].validateField(t.password)||!Fe(t.password,t.rePassword)),ya=d.div``,wa=d.div`my-4 mx-auto w-[45rem] border-2 rounded-lg px-6 pt-12 bg-white text-black`,Sa=()=>{const[t,r]=c.useState(oe),[i,s]=c.useState(!1),[l,o]=c.useState(!1);c.useEffect(()=>{s(ba(t))},[t]);const n=re(),u=c.useContext(k),{enqueueSnackbar:p}=Ne(),f=async()=>{if(u.state.user.userCredential){if(!await tr(t)){p("Old Password Wrong!",{variant:"error"});return}await Qt(t.password)?(p("Change password successfully!",{variant:"success"}),n("/")):p("Change password fail!",{variant:"error"})}};return u.state.user.userCredential&&(V[0].valSet=u.state.user.userCredential.user.email),e(ya,{children:a(wa,{children:[e("div",{className:"text-3xl",children:"Password Change"}),V.map((m,x)=>e(se,{fieldContent:m,setUserInfo:r,userInfo:t},m.fieldname)),l&&e("div",{children:l}),e("button",{className:" disabled:text-gray-400 bg-primary-purple w-full my-2 h-12 rounded-lg text-white hover:bg-primary-purple-lighter",disabled:!i,onClick:f,children:"Change Password"})]})})},Ca=d.div`pt-4 py-4 `,Na=d.div`my-4 mx-auto w-[45rem] border-2 rounded-lg px-6 pt-12 bg-white text-black`,Ea=()=>{const[t,r]=c.useState(oe),[i,s]=c.useState(!1),[l,o]=c.useState(!1);c.useEffect(()=>{s(va(t))},[t]);const n=re(),u=c.useContext(k),p=async()=>{var m;const f=await er(t);(m=f.userCredential)!=null&&m.user.uid?n("/"):o(!0),u.login(f)};return e(Ca,{children:a(Na,{children:[e("div",{className:"text-3xl",children:"Register"}),B.map((f,m)=>e(se,{fieldContent:f,setUserInfo:r,userInfo:t},f.fieldname)),l&&e("div",{children:l}),a("div",{className:"text-sm text-center hover:[&>a]:text-purple-600",children:["By clicking Register, you agree to our ",e("a",{href:"",children:"Terms of Use"})," and",e("a",{href:"",children:" Privacy Policy"})]}),e("button",{className:" disabled:text-gray-400 bg-primary-purple w-full my-2 h-12 rounded-lg text-white hover:bg-primary-purple-lighter",disabled:!i,onClick:p,children:"Create Account"}),a("div",{className:"text-sm text-center mb-4",children:["Already have an account? ",e(C,{to:"/login",className:"hover:text-purple-600",children:"Sign in!"})]})]})})},Pa=d.div`py-4`,ka=d.div`py-4 mx-auto w-[45rem] border-2 rounded-lg px-6 pt-12 bg-white text-black`,La=()=>{const[t,r]=c.useState(oe),[i,s]=c.useState(!1),l=re(),o=c.useContext(k);return e(Pa,{children:e(ka,{children:a("form",{onSubmit:async u=>{var f;u.preventDefault();const p=await Dt(t);console.log("login:",p),(f=p.userCredential)!=null&&f.user?(o.login(p),l("/")):s(!0)},children:[e("div",{className:"text-3xl",children:"Login"}),xa.map((u,p)=>e(se,{fieldContent:u,setUserInfo:r,userInfo:t},u.fieldname)),i&&e("div",{className:"pl-4 pb-2 mt-[-8px] text-red-700 text-sm",children:"Email address and password combination is incorrect."}),a("div",{children:[e("label",{htmlFor:"keepsignin",className:"pl-4 align-middle block text-sm pb-4 text-blue-400",children:"Test User: 'online2jerry@gmail.com'; Pwd: '####Ab12'"}),e("input",{type:"checkbox",name:"",id:"keepsignin",className:"w-4 h-4 ml-4 align-middle"}),e("label",{htmlFor:"keepsignin",className:"pl-2 align-middle",children:"Keep me signed in"})]}),a("div",{className:"hover:[&>div>a]:text-purple-800 hover:[&>div>a]:font-bold flex text-sm pl-2",children:[e("div",{className:"p-2",children:e("a",{href:"",children:"Forgot password?"})}),e("div",{className:"p-2 ",children:e(C,{to:"/register",children:"No account? Register free."})})]}),e("button",{type:"submit",className:" bg-primary-purple w-full my-2 h-12 rounded-lg text-white hover:bg-primary-purple-lighter",children:"Login"})]})})})};function za(){const t=c.useContext(k);return c.useEffect(()=>{localStorage.setItem(Le,JSON.stringify(t.state.user))},[t.state]),e("div",{className:"",children:a(St,{children:[e(Nr,{}),e(br,{}),a(Jt,{children:[a(w,{path:"/",children:[e(w,{index:!0,element:e(ra,{})}),e(w,{path:"login",element:e(La,{})}),e(w,{path:"register",element:e(Ea,{})}),e(w,{path:"user/profile",element:e(da,{})}),e(w,{path:"user/password",element:e(Sa,{})})]}),a(w,{path:"/event",children:[e(w,{index:!0,element:e(Pr,{})}),e(w,{path:"post",element:e(Wr,{})})]})]}),e(Zt,{})]})})}wt.createRoot(document.getElementById("root")).render(e(S.StrictMode,{children:e(lr,{children:e(yt,{maxSnack:3,children:e(za,{})})})}));
